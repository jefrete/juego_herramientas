<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Emparejar Herramientas de CarpinterÃ­a</title>
  <style>
    :root{
      --bg: #0f172a;
      --card: #111827;
      --muted: #94a3b8;
      --ok: #16a34a;
      --bad: #dc2626;
      --accent: #f59e0b;
    }
    html,body{height:100%}
    body{margin:0;background:linear-gradient(180deg,#0b1225,#0f172a 25%,#0b1225);color:#e5e7eb;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,"Noto Sans"}
    .wrap{max-width:1100px;margin:0 auto;padding:clamp(12px,3vw,28px)}
    header{display:flex;gap:12px;align-items:center;justify-content:space-between;margin-bottom:12px}
    h1{font-size:clamp(22px,4vw,36px);margin:0;font-weight:800;letter-spacing:.3px}
    .hint{color:var(--muted);font-size:clamp(13px,2.4vw,16px)}
    .board{display:grid;grid-template-columns:1fr;gap:14px}
    @media (min-width:780px){.board{grid-template-columns:1.2fr .8fr}}
    .gallery{display:grid;grid-template-columns:1fr;gap:14px}
    @media (min-width:560px){.gallery{grid-template-columns:1fr 1fr}}
    .photo{position:relative;background:var(--card);border-radius:18px;overflow:hidden;min-height:220px;box-shadow:0 10px 30px rgba(0,0,0,.35);outline:2px solid transparent;transition:outline-color .15s ease}
    .photo img{width:100%;height:260px;object-fit:cover;display:block}
    .photo .label{position:absolute;inset:auto 10px 10px 10px;background:rgba(2,6,23,.75);border:1px solid rgba(255,255,255,.12);border-radius:14px;padding:12px 14px;font-weight:700;display:flex;justify-content:space-between;align-items:center;gap:8px}
    .drop-hint{font-size:14px;color:var(--muted)}
    .tools{background:rgba(17,24,39,.7);border:1px solid rgba(255,255,255,.08);border-radius:18px;padding:14px;display:flex;flex-wrap:wrap;gap:10px;align-content:flex-start;min-height:120px}
    .chip{user-select:none;-webkit-user-drag:element;cursor:grab;background:#1f2937;border:1px solid rgba(255,255,255,.1);border-radius:999px;padding:12px 16px;font-weight:800;letter-spacing:.3px;box-shadow:0 6px 20px rgba(0,0,0,.25);transition:transform .08s ease}
    .chip:active{cursor:grabbing;transform:scale(.98)}
    .chip[aria-disabled="true"]{opacity:.5;cursor:not-allowed}
    .photo.ok{outline-color:var(--ok)}
    .photo.bad{animation:shake .25s linear}
    @keyframes shake{25%{transform:translateX(-3px)}50%{transform:translateX(3px)}75%{transform:translateX(-2px)}100%{transform:translateX(0)}}
    .controls{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin:10px 0 4px}
    button{background:var(--accent);color:#111827;border:none;border-radius:999px;padding:10px 14px;font-weight:900;cursor:pointer}
    button:active{transform:translateY(1px)}
  </style>
</head>
<body>
  <div class="wrap" role="application" aria-label="Juego de emparejar herramientas de carpinterÃ­a">
    <header>
      <div>
        <h1>Emparejar herramientas ðŸ”¨ðŸªš</h1>
        <div class="hint">ArrastrÃ¡ una <strong>herramienta</strong> y soltarla sobre la <strong>foto</strong> correcta. En celular podÃ©s <strong>tocar</strong> una herramienta y luego tocar la foto.</div>
      </div>
      <div class="controls">
        <button id="btnReiniciar">Reiniciar</button>
        <button id="btnTips">ðŸ”Š Leer</button>
      </div>
    </header>
    <main class="board">
      <section class="gallery" id="gallery"></section>
      <aside>
        <div class="tools" id="tools"></div>
      </aside>
    </main>
  </div>
  <script>
  const IMAGES = [
    {id:'martillo',title:'Martillo',credit:'CC',src:'https://upload.wikimedia.org/wikipedia/commons/7/7e/Man_extracting_nails_from_a_plank_using_a_claw_hammer.jpg'},
    {id:'serrucho',title:'Serrucho',credit:'CC',src:'https://upload.wikimedia.org/wikipedia/commons/3/3e/Man_using_handsaw_on_tree_trunk._%2819762147198%29.jpg'},
    {id:'taladro',title:'Taladro',credit:'CC',src:'https://upload.wikimedia.org/wikipedia/commons/8/88/171215-N-KA046-0216_%2839098914442%29.jpg'},
    {id:'lijadora',title:'Lijadora',credit:'CC',src:'https://unsplash.com/photos/mLO6ILUbADA/download?force=true&fm=jpg&w=1400'},
    {id:'formon',title:'FormÃ³n',credit:'CC',src:'https://upload.wikimedia.org/wikipedia/commons/6/6a/Man_chiselling.jpg'},
    {id:'cinta',title:'Cinta mÃ©trica',credit:'CC',src:'https://upload.wikimedia.org/wikipedia/commons/4/43/A_carpenter_creating_measurements.jpg'}
  ];
  const TOOLS = [
    {id:'martillo',label:'ðŸ”¨ Martillo'},
    {id:'serrucho',label:'ðŸªš Serrucho'},
    {id:'taladro',label:'ðŸ”§ Taladro'},
    {id:'lijadora',label:'ðŸŒ€ Lijadora'},
    {id:'formon',label:'ðŸªµ FormÃ³n'},
    {id:'cinta',label:'ðŸ“ Cinta mÃ©trica'}
  ];
  const gallery=document.getElementById('gallery');
  const toolsBox=document.getElementById('tools');
  const btnReiniciar=document.getElementById('btnReiniciar');
  const btnTips=document.getElementById('btnTips');
  const audioCtx='AudioContext' in window?new AudioContext():null;
  function beep(freq=880,time=0.15){if(!audioCtx)return;const o=audioCtx.createOscillator(),g=audioCtx.createGain();o.type='sine';o.frequency.value=freq;g.gain.value=0.08;o.connect(g).connect(audioCtx.destination);o.start();setTimeout(()=>{o.stop();},time*1000)}
  function speak(t){if(!('speechSynthesis'in window))return;const u=new SpeechSynthesisUtterance(t);u.lang='es-AR';u.rate=0.92;speechSynthesis.cancel();speechSynthesis.speak(u)}
  function renderGallery(){gallery.innerHTML='';IMAGES.forEach(img=>{const card=document.createElement('div');card.className='photo';card.tabIndex=0;card.dataset.accept=img.id;card.addEventListener('dragover',e=>e.preventDefault());card.addEventListener('drop',onDrop);card.addEventListener('click',()=>tryMatchSelection(card));const elImg=document.createElement('img');elImg.alt=img.title;elImg.src=img.src;const label=document.createElement('div');label.className='label';label.innerHTML=`<span class="drop-hint">SoltÃ¡ aquÃ­ la herramienta</span><span>${img.credit}</span>`;card.appendChild(elImg);card.appendChild(label);gallery.appendChild(card)})}
  function renderTools(){toolsBox.innerHTML='';shuffle([...TOOLS]).forEach(t=>{const chip=document.createElement('div');chip.className='chip';chip.draggable=true;chip.textContent=t.label;chip.dataset.tool=t.id;chip.addEventListener('dragstart',onDragStart);chip.addEventListener('click',()=>onChipClick(chip));toolsBox.appendChild(chip)})}
  function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]]}return a}
  let selectedChip=null;
  function onChipClick(chip){if(selectedChip&&selectedChip!==chip){selectedChip.style.outline='none'}selectedChip=chip;chip.style.outline='3px solid var(--accent)';speak(chip.textContent)}
  function tryMatchSelection(card){if(!selectedChip)return;finishAttempt(card,selectedChip,card.dataset.accept===selectedChip.dataset.tool)}
  function onDragStart(ev){ev.dataTransfer.setData('text/plain',ev.target.dataset.tool);selectedChip=ev.target;speak(selectedChip.textContent)}
  function onDrop(ev){ev.preventDefault();finishAttempt(ev.currentTarget,selectedChip,ev.currentTarget.dataset.accept===selectedChip.dataset.tool)}
  function finishAttempt(card,chip,ok){if(!chip)return;card.classList.remove('bad','ok');if(ok){card.classList.add('ok');card.querySelector('.label').innerHTML=`<strong>âœ” ${chip.textContent}</strong>`;beep(880,.12);setTimeout(()=>beep(1320,.12),120);speak('Â¡Muy bien!');chip.setAttribute('aria-disabled','true');chip.style.opacity=.5;chip.draggable=false;chip.style.outline='none';selectedChip=null;checkWin()}else{card.classList.add('bad');beep(240,.12);speak('Intentalo de nuevo');setTimeout(()=>card.classList.remove('bad'),250)}}
  function checkWin(){if([...document.querySelectorAll('.chip')].every(c=>c.getAttribute('aria-disabled')==='true')){setTimeout(()=>alert('Â¡Genial! Emparejaste todas las herramientas.'),150)}}
  btnReiniciar.onclick=()=>{renderGallery();renderTools();selectedChip=null;speak('Juego reiniciado')}
  btnTips.onclick=()=>speak('ArrastrÃ¡ una herramienta hacia la foto correcta. En celular, tocÃ¡ la herramienta y luego la foto.')
  renderGallery();renderTools();
  </script>
</body>
</html>
